<div class="generation-options" *ngIf="isVisible">
  <div class="options-row">
    <div class="option-group">
      <ng-select [(ngModel)]="selectedBeatType"
                 [items]="beatTypeOptions"
                 bindLabel="label"
                 bindValue="value"
                 [clearable]="false"
                 [searchable]="false"
                 placeholder="Beat-Typ wählen..."
                 class="model-select"
                 appendTo="body"
                 (change)="onBeatTypeChange()">
        <ng-template ng-option-tmp let-item="item">
          <div class="beat-type-option">
            <span class="beat-type-label">{{ item.label }}</span>
            <span class="beat-type-description">{{ item.description }}</span>
          </div>
        </ng-template>
      </ng-select>
    </div>
    
    <div class="option-group">
      <ng-select [(ngModel)]="selectedWordCount"
                 [items]="wordCountOptions"
                 bindLabel="label"
                 bindValue="value"
                 [clearable]="false"
                 [searchable]="false"
                 placeholder="Wortanzahl wählen..."
                 class="model-select"
                 appendTo="body"
                 (change)="onWordCountChange()">
      </ng-select>
      <input 
        *ngIf="showCustomWordCount"
        type="number"
        [(ngModel)]="customWordCount"
        class="custom-word-count"
        placeholder="Anzahl eingeben..."
        min="10"
        max="50000"
        (blur)="validateCustomWordCount()">
    </div>
    
    <div class="option-group model-selection-group">
      <!-- Favorite Models Quick Access -->
      <div class="favorite-models" *ngIf="favoriteModels.length > 0">
        <div class="favorite-label">Favoriten:</div>
        <div class="favorite-buttons">
          <button *ngFor="let model of favoriteModels"
                  class="favorite-btn"
                  [class.active]="selectedModel === model.id"
                  (click)="selectFavoriteModel(model)"
                  [title]="model.label">
            <ion-icon 
              [name]="getProviderIcon(model.provider)" 
              class="provider-icon-inline" 
              [class.gemini]="model.provider === 'gemini'" 
              [class.openrouter]="model.provider === 'openrouter'">
            </ion-icon>
            <span class="model-short-name">{{ getShortModelName(model.label) }}</span>
          </button>
        </div>
      </div>
      
      <ng-select [(ngModel)]="selectedModel"
                 [items]="availableModels"
                 bindLabel="label"
                 bindValue="id"
                 [clearable]="false"
                 [searchable]="true"
                 placeholder="Modell auswählen..."
                 class="model-select"
                 appendTo="body"
                 (change)="onModelChange()">
        <ng-template ng-label-tmp let-item="item">
          <div class="model-option-inline">
            <ion-icon 
              [name]="getProviderIcon(item.provider)" 
              class="provider-icon-inline" 
              [class.gemini]="item.provider === 'gemini'" 
              [class.openrouter]="item.provider === 'openrouter'">
            </ion-icon>
            <span class="model-label">{{ item.label }}</span>
            <button class="favorite-toggle"
                    (click)="onFavoriteToggle($event, item)"
                    [class.is-favorite]="isFavorite(item.id)"
                    title="Als Favorit markieren">
              ⭐
            </button>
          </div>
        </ng-template>
        <ng-template ng-option-tmp let-item="item">
          <div class="model-option-inline">
            <ion-icon 
              [name]="getProviderIcon(item.provider)" 
              class="provider-icon-inline" 
              [class.gemini]="item.provider === 'gemini'" 
              [class.openrouter]="item.provider === 'openrouter'">
            </ion-icon>
            <span class="model-label">{{ item.label }}</span>
            <button class="favorite-toggle"
                    (click)="onFavoriteToggle($event, item)"
                    [class.is-favorite]="isFavorite(item.id)"
                    title="Als Favorit markieren">
              ⭐
            </button>
          </div>
        </ng-template>
      </ng-select>
    </div>
  </div>
</div>